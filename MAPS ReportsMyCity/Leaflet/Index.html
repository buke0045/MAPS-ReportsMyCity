<!DOCTYPE html>
<html>

<head>
    <title>Leaflet</title><!-- -->
    <link rel="stylesheet" type="text/css" href="Index.css" />
    <!--CSS PROPORCIONADO POR LEAFLET-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin="" />
    <!--LIBERIA JAVASCRIPT DE LEAFLET-->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>
    <!--REPOSITORIO DE GITHUB PARA TRABAJAR PUNTOS EN POLIGONOS-->
    <script src="https://cdn.rawgit.com/hayeswise/Leaflet.PointInPolygon/v1.0.0/wise-leaflet-pip.js"></script>
</head>

<body>
    <!--DIV CONTAINER DEL MAPA-->
    <div id="mapid"></div>

    <input id="input" type="text">
    <input id="submit" type="button" value="GET">
    <input id="output" disabled type="text">
    <script>
        document.getElementById('submit').addEventListener('click', function () {//BOTÓN 
            var c = document.getElementById('input').value.split(',');
            c = L.latLng(c[0], c[1]);
            document.getElementById('output').value = checkInPolygons(c);
        });
    </script>
    <script>
        //SE CREA EL MAPA CON LAS COORDENADAS Y EL ZOOM
        var mymap = L.map('mapid').setView([10.631714, -85.436444], 10);
        //TILE LAYER UTILIZADA: MAPBOX
        //ACÁ SE INCLUYE EL ACCESS TOKEN DE MAPBOX
        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
            maxZoom: 18,
            id: 'mapbox/streets-v11',
            tileSize: 512,
            zoomOffset: -1,
            accessToken: 'pk.eyJ1IjoiYnVrZXNhc28iLCJhIjoiY2tobWd2cGIxMGIyODJycWZ3eGY0NDM1ayJ9._LzM4oKEOHiTA862tfIQ-w'
        }).addTo(mymap);
        //POLIGONOS CON SUS COORDENADAS
        var LiberiaCentro = L.polygon([
            [10.609825, -85.438786],
            [10.621805, -85.423336],
            [10.629228, -85.427284],
            [10.63429, -85.420074],
            [10.639351, -85.424023],
            [10.649642, -85.420504],
            [10.653944, -85.432434],
            [10.643063, -85.454493],
            [10.633784, -85.459557],
            [10.629903, -85.45475],
            [10.624673, -85.466595],
            [10.616912, -85.460758],
            [10.609825, -85.462389],
            [10.610669, -85.456381],
            [10.616406, -85.449772],
            [10.613158, -85.444064],
            [10.6043, -85.44003],

        ], { color: "gold" }).addTo(mymap);
        var Liberia = L.polygon([
            [10.441221, -85.437412],
            [10.456415, -85.46402],
            [10.452701, -85.472775],
            [10.435144, -85.475521],
            [10.42569, -85.470715],
            [10.418092, -85.483761],
            [10.422144, -85.527878],
            [10.444598, -85.547619],
            [10.497602, -85.570621],
            [10.518193, -85.568905],
            [10.523932, -85.574398],
            [10.526632, -85.582123],
            [10.534902, -85.57663],
            [10.56106, -85.593281],
            [10.624336, -85.598345],
            [10.643063, -85.597315],
            [10.651498, -85.594311],
            [10.66297, -85.596542],
            [10.659005, -85.612764],
            [10.662042, -85.629501],
            [10.660524, -85.634823],
            [10.656728, -85.636024],
            [10.652089, -85.649843],
            [10.642852, -85.652804],
            [10.639942, -85.651646],
            [10.642029, -85.654027],
            [10.642325, -85.656495],
            [10.639646, -85.658619],
            [10.63275, -85.66864],
            [10.632265, -85.672331],
            [10.631485, -85.674155],
            [10.626909, -85.675421],
            [10.623049, -85.673897],
            [10.619443, -85.677288],
            [10.611449, -85.679562],
            [10.611239, -85.682931],
            [10.608391, -85.690849],
            [10.607442, -85.690269],
            [10.605924, -85.690699],
            [10.60605, -85.692265],
            [10.606867, -85.692571],
            [10.606867, -85.693198],
            [10.607432, -85.6933],
            [10.608091, -85.693681],
            [10.608212, -85.694979],
            [10.60865, -85.695382],
            [10.609245, -85.695156],
            [10.609383, -85.695934],
            [10.609636, -85.695897],
            [10.609825, -85.696047],
            [10.609825, -85.696428],
            [10.610384, -85.697785],
            [10.610237, -85.698402],
            [10.61049, -85.698702],
            [10.610674, -85.699255],
            [10.611043, -85.699019],
            [10.611186, -85.698659],
            [10.610922, -85.697361],
            [10.612309, -85.696428],
            [10.612283, -85.696208],
            [10.61184, -85.696079],
            [10.612446, -85.694566],
            [10.612362, -85.693976],
            [10.612567, -85.688746],
            [10.61417, -85.687737],
            [10.615204, -85.689003],
            [10.61532, -85.68895],
            [10.616005, -85.688649],
            [10.616142, -85.687855],
            [10.615942, -85.687051],
            [10.618937, -85.68675],
            [10.621636, -85.685248],
            [10.623956, -85.68675],
            [10.625095, -85.691128],
            [10.631801, -85.68821],
            [10.631253, -85.684562],
            [10.634838, -85.683875],
            [10.635049, -85.6813],
            [10.633573, -85.680056],
            [10.642177, -85.670314],
            [10.644961, -85.672331],
            [10.642051, -85.676751],
            [10.641882, -85.680442],
            [10.638212, -85.696449],
            [10.640532, -85.698681],
            [10.645509, -85.689282],
            [10.65192, -85.678768],
            [10.655969, -85.670443],
            [10.661114, -85.675764],
            [10.664741, -85.657568],
            [10.676887, -85.652676],
            [10.694767, -85.65731],
            [10.698984, -85.655336],
            [10.720996, -85.662546],
            [10.729935, -85.660915],
            [10.743343, -85.663662],
            [10.759955, -85.656796],
            [10.767544, -85.65937],
            [10.794862, -85.680141],
            [10.795558, -85.68012],
            [10.798677, -85.682459],
            [10.797982, -85.678682],
            [10.796127, -85.673618],
            [10.796886, -85.668383],
            [10.813242, -85.660915],
            [10.824033, -85.652332],
            [10.838195, -85.619545],
            [10.86871, -85.606842],
            [10.874105, -85.579033],
            [10.876718, -85.548391],
            [10.880679, -85.542469],
            [10.878066, -85.534315],
            [10.886748, -85.525303],
            [10.884472, -85.502815],
            [10.906976, -85.491228],
            [10.925517, -85.467625],
            [10.932343, -85.450115],
            [10.933186, -85.443292],
            [10.923579, -85.442734],
            [10.916542, -85.442948],
            [10.910431, -85.434494],
            [10.906386, -85.43222],
            [10.899054, -85.430202],
            [10.897241, -85.424237],
            [10.890204, -85.416813],
            [10.828922, -85.365486],
            [10.826393, -85.350037],
            [10.811218, -85.327034],
            [10.797392, -85.30592],
            [10.779096, -85.300684],
            [10.77693, -85.298125],
            [10.730958, -85.31314],
            [10.672912, -85.351351],
            [10.639536, -85.342666],
            [10.566439, -85.388499],
            [10.460487, -85.427638],
            [10.449662, -85.431404],
        ], { color: "black" }).addTo(mymap);
        var Bagaces = L.polygon([
            [10.25006, -85.240517],//punto más bajo en el mapa
            [10.268979, -85.28377],
            [10.29651, -85.280342],
            [10.323026, -85.309181],
            [10.343291, -85.410118],
            [10.374193, -85.407887],
            [10.404248, -85.377846],
            [10.42569, -85.391407],
            [10.460466, -85.427628],
            [10.56646, -85.388489],
            [10.63952, -85.342655],
            [10.672923, -85.351324],
            [10.701599, -85.332184],
            [10.730947, -85.313129],
            [10.776924, -85.29812],
            [10.776113, -85.296907],
            [10.753041, -85.281115],
            [10.764846, -85.23571],
            [10.745957, -85.141296],
            [10.708852, -85.119667],
            [10.715261, -85.093575],
            [10.707713, -85.061517],
            [10.687388, -85.07731],
            [10.619949, -85.12825],
            [10.526126, -85.160351],
            [10.466374, -85.162582],
            [10.419781, -85.158806],
            [10.381454, -85.182323],
            [10.360093, -85.195198],
            [10.295666, -85.212193],
            [10.282829, -85.203094],
        ], { color: "darkgreen" }).addTo(mymap);
        //CIRCLES
        //BAGACES
        L.circle([10.527476, -85.255108], { color: "red", radius: 2000 }).addTo(mymap);
        L.circle([10.674483, -85.19979], { color: "red", radius: 2000 }).addTo(mymap);
        L.circle([10.706069, -85.225668], { color: "red", radius: 2000 }).addTo(mymap);
        L.circle([10.545365, -85.351238], { color: "red", radius: 2000 }).addTo(mymap);
        //LIBERIA
        L.circle([10.599617, -85.536804], { color: "red", radius: 2000 }).addTo(mymap);
        L.circle([10.734995, -85.479941], { color: "red", radius: 2000 }).addTo(mymap);
        L.circle([10.641882, -85.66658], { color: "red", radius: 2000 }).addTo(mymap);
        //VARIABLES GLOBALES
        var popup = L.popup();

        function checkInPolygons(coordinates) {
            if (Bagaces.contains(coordinates))
                return "Bagaces";
            if (Liberia.contains(coordinates))
                return "Liberia";
            return "NULL";
        }

        //EVENTO DE CLICK
        function onMapClick(e) {
            var message = "NULL"
            if("NULL" != checkInPolygons(e.latlng))
                message = checkInPolygons(e.latlng);
            popup
                .setLatLng(e.latlng)
                .setContent(message +"  " +  e.latlng.toString())
                .openOn(mymap);
        }
        mymap.on('click', onMapClick);
    </script>
</body>

</html>